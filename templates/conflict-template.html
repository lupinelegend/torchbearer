<form class="{{cssClass}}">
  {{!-- Sheet Header --}}
  <header class="sheet-header" style="margin-bottom: 5px;">
    <!-- Conflict General Info -->
    <div class="row">
      <!-- Party Intent and Conflict Captain -->
      <div class="col">
        <!-- Party Intent Input -->
        <div class="row" style="flex-wrap: nowrap; margin: 8px 0 8px 0; justify-content: flex-end;">
          <label for="partyIntent" style="font-family: Souvenir-Demi; margin-right: 5px; align-self: center;">Party Intent</label>
          <input type="text" name="partyIntent" id="partyIntent" value="{{partyIntent}}" style="width: 230px;">
        </div>
        <!-- Conflict Captain Dropdown -->
        <div class="row" style="flex-wrap: nowrap; margin: 8px 0 8px 0; justify-content: flex-end;">
          <label for="conflictCaptain" style="font-family: Souvenir-Demi; margin-right: 5px; align-self: center;">Conflict Captain</label>
          <select name="conflictCaptain" id="conflictCaptain" style="width: 230px;">
            {{#select conflictCaptain}}
            <option value="" selected disabled hidden>Choose a captain...</option>
            {{#each actors}}
            <option name="{{this.name}}" value="{{this.name}}">{{this.name}}</option>
            {{/each}}
            {{/select}}
          </select>
        </div>
      </div>
      <!-- Disposition -->
      <div class="col" style="flex: 0 0 245px;">
        <div class="row" style="display: block; text-align: center;">
          <h2 style="margin: auto; font-family: Souvenir-Demi;" id="dispo">Disposition</h3>
        </div>
        <div class="row" style="flex-wrap: nowrap; margin: 5px 0 5px 0">
          <div class="col" style="border-right: 1px solid #782e22;">
            <div class="row" style="justify-content: center; align-items: center; text-align: center; font-family: Souvenir-Medium;">
              <input type="text" name="partyDispoCurrent" id="partyDispoCurrent" data-dtype="Number" value="{{partyDispoCurrent}}" style="width: 40px; height: 40px; font-size: large !important;">
              <span>&nbsp/&nbsp</span>
              <input type="text" name="partyDispoMax" id="partyDispoMax" data-dtype="Number" value="{{partyDispoMax}}" style="width: 40px; height: 40px; font-size: large !important;">
            </div>
          </div>
          <div class="col">
            <div class="row" style="justify-content: center; align-items: center; text-align: center; font-family: Souvenir-Medium;">
              <input type="text" name="opponentDispoCurrent" id="opponentDispoCurrent" data-dtype="Number" value="{{opponentDispoCurrent}}" style="width: 40px; height: 40px; font-size: large !important;">
              <span>&nbsp/&nbsp</span>
              <input type="text" name="opponentDispoMax" id="opponentDispoMax" data-dtype="Number" value="{{opponentDispoMax}}" style="width: 40px; height: 40px; font-size: large !important;">
            </div>
          </div>
        </div>
      </div>
      <!-- Opponent Intent and Name -->
      <div class="col">
        <div class="row" style="flex-wrap: nowrap; margin: 8px 0 8px 0;">
          <input type="text" name="opponentIntent" id="opponentIntent" value="{{opponentIntent}}" style="width: 230px;">
          <label for="opponentIntent" style="font-family: Souvenir-Demi; margin-left: 5px; align-self: center;">Opponent Intent</label>
        </div>
        <div class="row" style="flex-wrap: nowrap; margin: 8px 0 8px 0;">
          <input type="text" name="opponentName" id="opponentName" value="{{opponentName}}" style="width: 230px;">
          <label for="opponentName" style="font-family: Souvenir-Demi; margin-left: 5px; align-self: center;">Opponent Name</label>
        </div>
      </div>
    </div>
    <!-- Horizontal Row -->
    <div class="row" style="flex-basis: 100%;">
      <hr style="border-top: none; border-bottom: 1px solid #782e22; display: flex; flex-basis: 100%; margin: 0 0 5px 0;">
    </div>
    <!-- Conflict Actor Info -->
    <div class="row">
      <!-- Player Character Info -->
      <div class="col" style="border-right: 1px solid #782e22;">
        <table class="tbtable" style="table-layout: auto;">
          <thead class="theader">
            <th>Character</th>
            <th>Weapon</th>
            <th>Bonus</th>
            <th>Disposition</th>
          </thead>
          <tbody>
            {{#each actors as |actor|}}
            <tr>
              <td>
                {{name}}
              </td>
              <!-- Weapon Dropdown -->
              <td style="text-align: center;">
                <select name="{{equipped}}" class="charWeapon" id="{{id}}">
                  {{#select equipped}}
                  <option value="" selected disabled hidden>Choose a weapon...</option>
                  {{#each this.weapons}}
                  <option name="{{name}}" value="{{name}}">{{name}}</option>
                  {{/each}}
                  {{/select}}
                </select>
              </td>
              <td></td>
              <td style="text-align: center;">
                <input type="text" style="width: 50px;" id="{{id}}" class="charDispo" value="{{dispo}}">
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      <!-- NPC Opponent Info -->
      <div class="col">
        <table class="tbtable" style="table-layout: auto;">
          <thead class="theader">
            <th>Opponent</th>
            <th>Weapon</th>
            <th>Bonus</th>
            <th>Disposition</th>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="conflictTabs">
    <a class="item" data-tab="conflict" style="font-family: Souvenir-Demi;">Conflict</a>
    <a class="item" data-tab="reference" style="font-family: Souvenir-Demi;">Reference</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body" style="height: fit-content;">
    
    {{!-- Conflict Tab --}}
    <div class="tab" data-group="conflictTabs" data-tab="conflict">Conflict</div>
    
    {{!-- Reference Tab --}}
    <div class="tab" data-group="conflictTabs" data-tab="reference">Reference</div>

  </section>
</form>